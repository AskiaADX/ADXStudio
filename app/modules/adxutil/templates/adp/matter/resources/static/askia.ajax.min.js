!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(){window.AskiaScript&&(AskiaScript.executeLiveRouting=function(){});var e=window.askia||{};function t(e){if(e.question.inputCode>=0){var t,n,a=/^(?:show)/i.test(e.action),o=".askia-question-"+e.question.inputCode,i=document.querySelectorAll(o);for(t=0,n=i.length;t<n;t+=1)i[t].style.display=a?"":"none"}}window.askia||(window.askia=e),e.serializeForm=function(e,t){var n=[];return function(e,t){if("function"==typeof t){var n,a=/^(?:submit|button|image|reset|file)$/i,o=/^(?:input|select|textarea|keygen)/i,i=/^(?:checkbox|radio)$/i,r=e.elements;for(n=0,l=r.length;n<l;n+=1){var s=r[n];!s.name||s.disabled||null===s.value||a.test(s.type)||!o.test(s.nodeName)||i.test(s.type)&&!s.checked||t(s)}}}(e,function(e){var a=e.name,o=e.value.replace(/\r?\n/gi,"\r\n");t&&/^(?:action)$/i.test(e.name)&&(o=t.replace(/\r?\n/gi,"\r\n")),n.push(encodeURIComponent(a)+"="+encodeURIComponent(o))}),n.join("&")},e.ajax=function(e){if(e)if(e.url&&"string"==typeof e.url)if(e.method=(e.method&&e.method.toString()||"POST").toUpperCase(),/^(?:GET|POST|PUT|DELETE|HEAD|OPTIONS|TRACE|CONNECT)$/.test(e.method)){var t=new XMLHttpRequest;t.open(e.method,e.url,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.onload=function(){var n=t.responseText;t.status>=200&&t.status<400?"function"==typeof e.success&&e.success(n,t):"function"==typeof e.error&&e.error(n,t),"function"==typeof e.complete&&e.complete(n,t)},t.onerror=function(){"function"==typeof e.error&&e.error(text,t),"function"==typeof e.complete&&e.complete(text,t)},t.send(e.data||null)}else console&&console.warn("The `query.method` argument must be a valid HTTP method for askia.ajax()");else console&&console.warn("The `query.url` argument must be a valid string for askia.ajax()");else console&&console.warn("The `query` argument must be a valid object for askia.ajax()")},e.defaultEventActions={askiaAnswer:i,askiaShowQuestion:t,askiaHideQuestion:t,askiaShowResponses:null,askiaHideResponses:null,askiaReload:function(){if(o)return;window.location.reload()},askiaSetValue:null,askiaShowMessage:null,askiaChangeQuestionsOrder:null,askiaChangeResponsesOrder:null,askiaInfo:null,askiaUpdateCaption:function(e){if(""===e.selector)return;var t,n,a=e.selector,o=e.caption,i=document.querySelectorAll(a);for(t=0,n=i.length;t<n;t+=1)i[t].innerHTML=o}},e.triggerEvent=function(e,t){var n=new CustomEvent(e,void 0!==t?{detail:t}:void 0);return document.dispatchEvent(n)},e.triggerAnswer=function(){if(!e.triggerEvent("askiaAnswer"))return!1;e.defaultEventActions.askiaAnswer()};var n=!1,a=!1,o=!0;function i(){n?a=!0:(n=!0,a=!1,e.ajax({url:"../cgi-bin/AskiaExt.dll"+window.location.search,data:e.serializeForm(document.forms[0],"DoLiveRouting"),success:r,complete:s}))}function r(t){var n,a,o,i,r,s=JSON.parse(t).actions||[];for(n=0,a=s.length;n<a;n+=1)o=s[n],i="askia"+((r=o.action).charAt(0).toUpperCase()+r.slice(1)),e.triggerEvent(i,o)&&"function"==typeof e.defaultEventActions[i]&&e.defaultEventActions[i](o)}function s(){n=!1,o=!1,a&&setTimeout(i,250)}document.addEventListener("DOMContentLoaded",function(){document.addEventListener("change",function(t){var n=t.target||t.srcElement,a=/^[a-z]+([0-9]+)(?:\s*|\_*)/i.exec(n.name);a&&window.arrLiveRoutingInputCode.indexOf(a[1])>-1&&("INPUT"===n.nodeName&&(n.parentElement.className.indexOf("askia-response")>=0||n.parentElement.className.indexOf("askia-control")>=0||n.parentElement.className.indexOf("askia-grid-row")>=0||n.parentElement.parentElement.className.indexOf("askia-grid-row")>=0)&&("radio"===n.type||"checkbox"===n.type)||"SELECT"===n.nodeName)&&setTimeout(function(){e.triggerAnswer()},150)}),document.addEventListener("input",function(t){var n=t.target||t.srcElement,a=/^[a-z]+([0-9]+)(?:\s*|\_*)/i.exec(n.name);a&&window.arrLiveRoutingInputCode.indexOf(a[1])>-1&&("TEXTAREA"===n.nodeName||"INPUT"===n.nodeName&&("color"===n.type||"date"===n.type||"datetime"===n.type||"email"===n.type||"month"===n.type||"number"===n.type||"password"===n.type||"range"===n.type||"search"===n.type||"tel"===n.type||"text"===n.type||"time"===n.type||"url"===n.type||"week"===n.type))&&(n.parentElement.className.indexOf("askia-response")>=0||n.parentElement.className.indexOf("askia-control")>=0||n.parentElement.className.indexOf("askia-grid-row")>=0||n.parentElement.parentElement.className.indexOf("askia-grid-row")>=0||n.className.indexOf("askia-live")>=0)&&e.triggerAnswer()}),e.triggerAnswer()})}();