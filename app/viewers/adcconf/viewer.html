<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Image viewer</title>
    <link rel="stylesheet" href="adcconf.css"/>
</head>
<body>

<div class="contain">

    <div class="fileI">

      <p>File Informations : </p>
      <label for="date">Date</label>
      <input type="text"name="description" id= "dateInfo"/>
      <br>
      <br>
      <label for="description">Description : </label>
      <textarea type="text" name="description" id= "description"></textarea>
      <br>
      <br>
      <label for="guid">GUID : </label>
      <input id="guid" name="guid"/>
      <br>
      <br>
      <label for="helpURL">URL-Help : </label>
      <input id="helpURL" name="helpURL"/>
      <br>
      <br>
      <label for="site">Web Site : </label>
      <input id="site" name="site"/>
      <br>
      <br>
      <label for="style">Style : </label>
      <input id="style" name="style"/>
      <br>
      <br>
      <label for="name">Name : </label>
      <input id="name" name="name"/>
  </div>
  <div id="AboutAuthor"> About the Author
    <br>
    <br>
<label for="author">Author :</label>
<input id="author" name="author"/>
<br>
<br>
<label for="category">Categories :</label>
<input id="category" name="category"/>
<br>
<br>
    <div class="Company"> Company
      <br>
      <br>
      <label for="CompanyName">Name :</label>
      <input id="companyName" name="companyname"/>
    </div>
    <br>
    <br>
  </div>
  <br>
  <br>
  <div id="Controls">
    <br>
    <br>
    <label for="label">Label :</label>
    <input type="checkbox" id="label" name="label"/>
    <br>
    <br>
    <label for="responseblock">Response Block :</label>
    <input  type="checkbox" id="RespBlock" name="RespBlock"/>
    <br>
    <br>
    <label for="TextBox">Text Box :</label>
    <input id="textBox" name="textBox"/>
    <br>
    <br>
  </div>
  <div id="Questions">
    <br>
    <br>
    <label for="chapter">Chapter :</label>
    <input type="checkbox" id="chapter" name="chapter"/>
    <br>
    <br>
    <label for="date">Date :</label>
    <input type="checkbox" id="date" name="date"/>
    <br>
    <br>
    <label for="multiple">Multiple :</label>
    <input type="checkbox" id="multiple" name="multiple"/>
    <br>
    <br>
    <label for="numeric">Numeric :</label>
    <input type="checkbox" id="numeric" name="numeric"/>
    <br>
    <br>
    <label for="open">Open :</label>
    <input type="checkbox" id="open" name="open"/>
    <br>
    <br>
    <label for="requireParentLoop">Require Parent Loop :</label>
    <input type="checkbox" id="requireParentLoop" name="requireParentLoop"/>
    <br>
    <br>
    <label for="single">Single :</label>
    <input type="checkbox" id="single" name="single"/>
    <br>
    <br>
  </div>
  <br>
  <br>
  <button type="button" name="button">Save Changes</button>
  <pre id="test"></pre>

</div>
<script>
var adcConfigInfo = {};

    (function () {
        var matchTabId  =  /\?tabid=([^&]+)/gi.exec(window.location.href);
        if (!matchTabId || !matchTabId.length) {
            throw new Error("Invalid context, the tab id is not defined");
        }
        var tabId    = matchTabId[1];
        var parent   = window.parent;
        var tabs     = parent.tabs;
        var tab      = tabs[tabId];
		    var info     = tab.adcConfig.info;

        console.log(tab);
        document.getElementById("test").innerHTML = JSON.stringify(tab.adcConfig, null, 4);

        adcConfigInfo = {
          date: info.date,
          description: info.description,
          guid: info.guid,
          helpURL: info.helpURL,
          site: info.site,
          name: info.name
        };
        //Info
  document.getElementById("name").value = info.name;
  document.getElementById("dateInfo").value = info.date;
  document.getElementById("description").value = info.description;
  document.getElementById("guid").value = info.guid;
  document.getElementById("helpURL").value = info.helpURL;
  document.getElementById("site").value = info.site;
  document.getElementById("style").value = info.style[0] + ' ' + info.style[1];

        //Author
  document.getElementById("author").value = info.author;
  document.getElementById("category").value = info.categories[0];

        //Company
  document.getElementById("companyName").value = info.company;

        //Controls
  var constraints = info.constraints;
  var controlInfo = constraints.controls;

  document.getElementById("label").checked = controlInfo.label;
  document.getElementById("RespBlock").checked = controlInfo.responseblock;
  document.getElementById("textBox").value = controlInfo.textBox;

      //Questions
      var questionsInfo = constraints.questions;
  document.getElementById("chapter").checked = questionsInfo.chapter;
  document.getElementById("date").checked = questionsInfo.date;
  document.getElementById("multiple").checked = questionsInfo.multiple;
  document.getElementById("numeric").checked = questionsInfo.numeric;
  document.getElementById("open").checked = questionsInfo.open;
  document.getElementById("requireParentLoop").checked = questionsInfo.requireParentLoop;
  document.getElementById("single").checked = questionsInfo.single;

    }());


</script>
</body>
</html>
